using Nextended.Core.Attributes;
using Nextended.Core.Enums;
using Nextended.Core.Types;
using YamlDotNet.Core.Tokens;

namespace CodeGenSample.Entities.Base;

[AutoGenerateDto(AutoGenerateDerived = true,
    PropertiesToIgnore = [nameof(AuditedAggregateRoot<Guid>.PleaseDontGenerate)],
    KeepAttributesOnGeneratedClass = false,
    DefaultPropertyInterfaceAccess = InterfaceProperty.GetAndSet,
    KeepPropertyAttributesOnGeneratedClass = false,
    KeepPropertyAttributesOnGeneratedInterface = false)]
public class HubBaseGuidEntity : AuditedAggregateRoot<Guid>, IGuidEntity
{
    public string XName { get; set; }
    public HubBaseSubClass HubBaseSubClass { get; set; }
}

public class AuditedAggregateRoot<TKey>
{
    public virtual TKey Id { get; protected set; }
    public string OwnerId { get; set; }
    public string PleaseDontGenerate { get; set; }
}

public class HubBaseSubClass
{
    public string SomeProp { get; set; }
}


public class Shipment : HubBaseGuidEntity
{
    public string TrackingNumber { get; set; }
    public DateTime ShippedDate { get; set; }
    public DateTime? DeliveredDate { get; set; }
    public Guid OrderId { get; set; }
}







//[AutoGenerateDto(AutoGenerateDerived = true,
//    PropertiesToIgnore = [nameof(AuditedAggregateRoot<Guid>.PleaseDontGenerate)],
//    KeepAttributesOnGeneratedClass = false,
//    DefaultPropertyInterfaceAccess = InterfaceProperty.GetAndSet,
//    KeepPropertyAttributesOnGeneratedClass = false,
//    KeepPropertyAttributesOnGeneratedInterface = false)]
//public class HubBaseGuidEntity<TId> : AuditedAggregateRoot<TId> where TId : BaseId<TId, Guid>
//{
//    public string XName { get; set; }
//    public HubBaseSubClass HubBaseSubClass { get; set; }
//}

//public class AuditedAggregateRoot<TKey>
//{
//    public virtual TKey Id { get; protected set; }
//    public string OwnerId { get; set; }
//    public string PleaseDontGenerate { get; set; }
//}

//public class HubBaseSubClass
//{
//    public string SomeProp { get; set; }
//}


//public class Shipment<TId> : HubBaseGuidEntity<TId> where TId : BaseId<TId, Guid>
//{
//    public string TrackingNumber { get; set; }
//    public DateTime ShippedDate { get; set; }
//    public DateTime? DeliveredDate { get; set; }
//    public Guid OrderId { get; set; }
//}

//public class Shipment : Shipment<IdOf<Shipment>>
//{
//    void T()
//    {
//        Methods.Dosomething(Id);
//    }
//}

//public class SubOfShipment : Shipment<IdOf<SubOfShipment>>
//{
//    void T()
//    {
//        Methods.Dosomething(Id);
//    }
//}

//public class IdOf<TEntity> : BaseId<IdOf<TEntity>, Guid> where TEntity : HubBaseGuidEntity<IdOf<TEntity>>
//{

//}

//class ShipmentId : BaseId<ShipmentId, Guid>
//{

//}



//public static class Methods
//{
//    public static void Dosomething(IdOf<Shipment> id)
//    {
//        Shipment a = new Shipment();
//        SubOfShipment sub = new SubOfShipment();


//        Guid i2 = id;
//        //IdOf<Shipment> id2 = Guid.NewGuid();
//    }
//}